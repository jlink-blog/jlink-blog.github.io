---
layout: post
title: 'AJAX Travelogue (Part 2): Communication'
date: 2006-03-22 11:48:00.000000000 +01:00
type: post
published: true
status: publish
categories: []
tags:
- ajax
---
<p>Are you looking for an online tutorial on <b>A</b>synchronous <b>J</b>avaScript <b>A</b>nd <b>X</b>ML? This is not the place for you then, but  Max Kiesler's <a href="http://www.maxkiesler.com/index.php/weblog/round_up_of_30_ajax_tutorials/">round up</a> of Ajax online courses might be. Nevertheless, before reading on you should be aware of what AJAX is all about. Here's the quote from Jesse's <a href="http://www.adaptivepath.com/publications/essays/archives/000385.php">original paper</a>:</p>
<blockquote><p> Ajax isn’t a technology. It’s really several technologies, each flourishing in its own right, coming together in powerful new ways. Ajax incorporates:</p>
<ul>
<li>standards-based presentation using XHTML and CSS;</li>
<li>dynamic display and interaction using the Document Object Model;</li>
<li>data interchange and manipulation using XML and XSLT;</li>
<li>asynchronous data retrieval using XMLHttpRequest;</li>
<li>and JavaScript binding everything together.</li>
</ul>
</blockquote>
<p>Strangely enough, communication via JavaScript's XMLHttpRequest object is - despite its name - not limited to XML contents. You can send and receive anything which can be transmitted via HTTP.</p>
<p>Ajax techniques can be used in a billion ways to embellish traditional flow-oriented web apps. However, more interesting for me is the foreseeable shift to web-based SPAs (single page applications), yet another acronym that tries to manipulate our subconscious mind with its standard English meaning.</p>
<p>As for the connection between domain and presentation logic SPAs resemble much more rich client applications than web apps. One of the more complex decisions you have to make when distributing a program between two computers (the client and the server) is: What code should we have on the server and what code should we develop for and deploy on the client.</p>
<p>On the extreme ends of the imaginable solution space you have the "SOA-infected guys" and the "composable widgets people". The first group advocates to have all integrating business logic, i.e. the application logic, on the client and to only invoke application-independent "service calls" on the server. The latter crowd even compose the user interface layout on the server - usually doing some JavaScript generation behind the scenes - and wire the individual widgets living on the client to their counterparts on the server.</p>
<p>Personally, I have issues with both ends:</p>
<ul>
<li>Building user interface experiences with Html, CSS, JavaScript and DOM does not lend itself very well to the composable widgets perspective. Moreover, the tight coupling between client- and server-side widgets leads to high-frequency communication; in many cases this communication is conceptually synchronous.</li>
<li>"Just" calling services and aggregating their results into application-specific behaviour, however, requires that you have (at least large parts of) the domain model available on client-side, i.e. you have to do some non-trivial mapping from your server-side language to and from JavaScript. The generic kind of services often delivers more information than actually needed for display, thus bandwidth becomes more of a problem. Additionally, interpreted JavaScript is not fit for large amount of computation.</li>
</ul>
<p>So, I decided to search for an approach that allows me to have all *presentation* logic and code in the browser but all *application* and domain logic on the server. As a surplus gift I'd get testability of application logic for free! I didn't have to look for long, though. Hiding all application logic behind an <i>application facade</i> has been my favourite architectural refactoring for years. There are two basic forms of application facades (see e.g. Martin Fowler's <a href="http://www.martinfowler.com/eaaDev/index.html">presentation patterns</a>):</p>
<ul>
<li>Presentation Model</li>
<li>Model View Presenter</li>
</ul>
<p>Common to both is their strong ambition to decouple user interface from logic. And both can - in theory and praxis - be used for Ajax-driven SPAs...</p>
<p>I hope that's enough of a cliff-hanger to keep you tuned.</p>
<p>Johannes</p>
